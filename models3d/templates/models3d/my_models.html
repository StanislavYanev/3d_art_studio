{% extends "accounts/profile_base.html" %}
{% load static %}
{% load i18n %}

{%block dashboard_content %}

<h2>{%trans '–ú–æ–∏—Ç–µ 3D –º–æ–¥–µ–ª–∏'%}
  </h2>
<a href="{% url 'models3d:upload_model' %}" class="btn-upload"
  >
  ‚ûï {%trans '–ö–∞—á–∏ –Ω–æ–≤ –º–æ–¥–µ–ª'%}</a
>

<div class="model-list">
  {% for model in models %}
  <div class="model-card">
    <h3>{{ model.title }}</h3>
    <p><strong>{%trans '–ö–∞—Ç–µ–≥–æ—Ä–∏—è:'%}
      </strong> {{ model.get_category_display }}</p>

    {% if model.preview_image %}
    <img
      src="{{ model.preview_image.url }}"
      alt="–ü—Ä–µ–≤—é"
      style="max-width: 150px; border-radius: 6px"
    />
    {% endif %}

    {% if model.id in model_prices %}
    <p><strong>{%trans '–¶–µ–Ω–∞:'%}
      </strong> {{ model_prices.model.id }}{%trans '–ª–≤/–±—Ä'%}
      </p>
    {% endif %} 

    <p><strong>{%trans ''%}
      –û–ø–∏—Å–∞–Ω–∏–µ:</strong>{{ model.description|default:"(–ë–µ–∑ –æ–ø–∏—Å–∞–Ω–∏–µ)" }}</p>



    <a href="{{ model.model_file.url }}" download>‚¨áÔ∏è{%trans '–ò–∑—Ç–µ–≥–ª–∏'%}
      </a><br /><br />
    <a href="{% url 'orders:create_order' model.pk %}" class="btn small"
      >{%trans '–ó–∞—è–≤–∏ –ø—Ä–∏–Ω—Ç–∏—Ä–∞–Ω–µ'%}
      </a
    >
    <a href="{% url 'models3d:edit_model' model.pk %}" class="btn small"
      >‚úèÔ∏è {%trans '–†–µ–¥–∞–∫—Ç–∏—Ä–∞–π'%}
      </a
    >
    <a
      href="{% url 'models3d:delete_model' model.pk %}"
      class="btn small danger"
      >üóëÔ∏è {%trans '–ò–∑—Ç—Ä–∏–π'%}
      </a
    >
  </div>
  {% empty %}
  <p>{%trans '–ù—è–º–∞—Ç–µ –∫–∞—á–µ–Ω–∏ 3D –º–æ–¥–µ–ª–∏.'%}
    </p>
  {% endfor %}
</div>

{% endblock %}
