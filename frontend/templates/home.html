{% extends "base.html" %} 
{% block title %}Начало | 3D Print Studio{% endblock%} 
{% block content %} 

<!-- Hero Section -->
<section id="hero" class="bg-white dark:bg-gray-900 py-20">
  <div class="container mx-auto px-4 text-center">
    <h1 class="text-4xl md:text-5xl font-bold mb-6">
      Вашата идея.
      <span class="text-indigo-600 dark:text-indigo-400">Нашият 3D принт.</span>
    </h1>
    <p class="text-lg mb-8">
      Персонализирани решения за 3D принтиране и дизайн.
    </p>
    <a
      href="#services"
      class="bg-indigo-600 text-white px-6 py-3 rounded-xl hover:bg-indigo-700 transition"
    >
      Виж нашите услуги
    </a>
  </div>
</section>

<!-- Services Section -->
<section id="services" class="bg-gray-50 dark:bg-gray-800 py-16">
  <div class="container mx-auto px-4">
    <h2 class="text-3xl font-semibold text-center mb-12">Нашите услуги</h2>
    <div class="grid md:grid-cols-3 gap-8 text-center">
      <!-- 3D Моделиране -->
      <div
        class="bg-white dark:bg-gray-700 p-6 rounded-xl shadow transform transition duration-500 hover:scale-105 opacity-0 animate-fade-in-up delay-100"
      >
        <div class="flex justify-center mb-4">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-10 w-10 text-indigo-600"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M20 7l-8-4-8 4v6l8 4 8-4V7z"
            />
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 7l8 4 8-4"
            />
          </svg>
        </div>
        <h3 class="text-xl font-bold mb-2">3D Моделиране</h3>
        <p>Създаваме 3D модели по ваша идея или чертеж.</p>
      </div>

      <!-- 3D Принтиране -->
      <div
        class="bg-white dark:bg-gray-700 p-6 rounded-xl shadow transform transition duration-500 hover:scale-105 opacity-0 animate-fade-in-up delay-200"
      >
        <div class="flex justify-center mb-4">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-10 w-10 text-indigo-600"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M4 12h16M12 4v8m0 0l3-3m-3 3L9 9"
            />
          </svg>
        </div>
        <h3 class="text-xl font-bold mb-2">3D Принтиране</h3>
        <p>Принтираме с висока прецизност и качествени материали.</p>
      </div>

      <!-- Консултации -->
      <div
        class="bg-white dark:bg-gray-700 p-6 rounded-xl shadow transform transition duration-500 hover:scale-105 opacity-0 animate-fade-in-up delay-300"
      >
        <div class="flex justify-center mb-4">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-10 w-10 text-indigo-600"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M13 10V3L4 14h7v7l9-11h-7z"
            />
          </svg>
        </div>
        <h3 class="text-xl font-bold mb-2">Консултации</h3>
        <p>Помагаме с избор на технологии, материали и дизайн.</p>
      </div>
    </div>
  </div>
</section>

<!-- Products Section -->
<section id="products" class="py-16 bg-white dark:bg-gray-900">
  <div class="container mx-auto px-4">
    <h2 class="text-3xl font-semibold text-center mb-12">Избрани продукти</h2>

    {% if featured_products %}
    <div class="grid md:grid-cols-3 gap-6">
      {% for product in featured_products %}
      <div
        class="bg-gray-50 dark:bg-gray-800 p-4 rounded-xl shadow transform transition duration-500 hover:scale-105 opacity-0 animate-fade-in-up delay-{{ forloop.counter0 }}00"
      >
        {% if product.image %}
        <img
          src="{{ product.image.url }}"
          alt="{{ product.name }}"
          class="rounded mb-4 h-48 w-full object-cover"
        />
        {% else %}
        <div
          class="h-48 w-full flex items-center justify-center bg-gray-200 dark:bg-gray-700 rounded mb-4 text-gray-500 dark:text-gray-400"
        >
          Без изображение
        </div>
        {% endif %}
        <h3 class="text-xl font-bold">{{ product.name }}</h3>
        <p class="mb-2">{{ product.description|truncatechars:80 }}</p>
        <div class="text-indigo-600 font-semibold mb-4">
          {{ product.price }} лв.
        </div>
        <a
          href="{% url 'products:product_detail' product.pk %}"
          class="text-indigo-600 hover:underline"
          >Детайли</a
        >
      </div>
      {% endfor %}
    </div>
    {% else %}
    <p class="text-center text-gray-500 dark:text-gray-400">
      Няма налични продукти.
    </p>
    {% endif %}
  </div>
</section>

{% if messages %}
  <div id="toast-wrapper" class="fixed bottom-6 right-6 z-50 space-y-2">
    {% for message in messages %}
      <div
        class="toast bg-green-100 border border-green-300 text-green-800 px-4 py-3 rounded-lg shadow transition-all duration-500"
      >
        {{ message }}
      </div>
    {% endfor %}
  </div>

  <script>
    setTimeout(() => {
      const toast = document.getElementById("toast-wrapper");
      if (toast) {
        toast.style.opacity = "0";
        setTimeout(() => toast.remove(), 500);
      }
    }, 5000);
  </script>
{% endif %}



<!-- Contact Section -->
<section id="contact" class="bg-white dark:bg-gray-900 py-16">
  <div class="container mx-auto px-4 max-w-2xl">
    <h2 class="text-3xl font-semibold text-center mb-8">Свържи се с нас</h2>
    <form method="post" class="space-y-4">
      {% csrf_token %} {{ form.non_field_errors }}

      <input
        type="text"
        name="name"
        placeholder="Вашето име"
        value="{{ form.name.value|default_if_none:'' }}"
        class="w-full border rounded-xl px-4 py-3 dark:bg-gray-800"
        required
      />
      {% if form.name.errors %}
      <p class="text-sm text-red-600">{{ form.name.errors.0 }}</p>
      {% endif %}

      <input
        type="email"
        name="email"
        placeholder="Имейл"
        value="{{ form.email.value|default_if_none:'' }}"
        class="w-full border rounded-xl px-4 py-3 dark:bg-gray-800"
        required
      />
      {% if form.email.errors %}
      <p class="text-sm text-red-600">{{ form.email.errors.0 }}</p>
      {% endif %}

      <textarea
        name="message"
        rows="4"
        placeholder="Съобщение"
        class="w-full border rounded-xl px-4 py-3 dark:bg-gray-800"
        required
      >
{{ form.message.value|default_if_none:'' }}</textarea
      >
      {% if form.message.errors %}
      <p class="text-sm text-red-600">{{ form.message.errors.0 }}</p>
      {% endif %}

      <button
        type="submit"
        class="bg-indigo-600 text-white px-6 py-3 rounded-xl hover:bg-indigo-700 transition"
      >
        Изпрати съобщение
      </button>
    </form>

  </div>
</section>

{% endblock %}
